<h5>
  <fa-icon class="pe-1" [icon]="['fas', 'circle-info']"></fa-icon>Instructions
</h5>

<p>
  You can use this interface to upload annotations from human or machine
  generated datasets.
</p>

@if (hasUncommittedFiles()) {
  <div class="uncommitted-file-warning alert alert-warning">
    <h6>
      <fa-icon class="pe-1" [icon]="['fas', 'triangle-exclamation']"></fa-icon>
      Warning
    </h6>

    <strong>Your files have not been saved</strong>. Please review your uploaded
    files, and click "Import Annotations" to save your annotations.
  </div>
}

@if (annotationImport.importErrors().length > 0) {
  <section class="error-section widget-section border-top">
    <h5>How to handle errors</h5>

    <div class="error-cards">
      @if (hasEventErrors()) {
        <div class="widget-card">
          <h6 class="callout callout-danger">Event errors</h6>

          <p>
            Event errors are broken down per-row in the "Identified Events"
            table.
          </p>

          <p>
            Errors can arise due to invalid values, incorrect data types, or
            referencing audio recordings that you don't have permission to
            access.
          </p>
        </div>
      }

      @if (hasDuplicateFiles()) {
        <div class="widget-card">
          <h6 class="callout callout-danger">Duplicate files</h6>

          <p>
            Datasets that contain the same content cannot be uploaded twice.
          </p>

          <p>
            This includes other accounts uploading the same dataset. Please
            ensure that the conflicting dataset has not previously been uploaded
            by another person.
          </p>
        </div>
      }

      @if (hasUnsupportedFormat()) {
        <div class="widget-card">
          <h6 class="callout callout-danger">Unsupported file format</h6>

          <p>
            We were not able to understand the file format that you uploaded. If
            this is a common annotation format, you can request support through
            the
            <a [strongRoute]="contactUs.route">{{ contactUs.label }}</a> page.
          </p>
        </div>
      }

      @if (hasServerError()) {
        <div class="widget-card">
          <h6 class="callout callout-danger">Internal Server Error</h6>

          <p>
            We encountered an unrecoverable error while processing your file. We
            have been notified and will investigate this failure.
          </p>

          <p>
            This error can sometime arise if the structure of your dataset is
            invalid or corrupted.
          </p>

          <p>
            If you have any further information, you can
            <a [strongRoute]="contactUs.route">{{ contactUs.label }}</a> to help
            resolve this bug faster.
          </p>
        </div>
      }
    </div>
  </section>
}
