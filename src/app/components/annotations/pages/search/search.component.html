<h1 class="mb-2">Annotation Search</h1>

<baw-annotation-search-form
  [project]="project"
  [region]="region"
  [site]="site"
  (modelChange)="updateModel($event)"
></baw-annotation-search-form>

<div class="mt-2">
  <a
    type="submit"
    class="btn btn-primary me-2"
    [strongRoute]="verifyAnnotationsRoute()"
    [queryParams]="model.toQueryParams()"
  >
    Verify This List
  </a>

  <a class="btn btn-secondary">Download Annotations</a>
</div>

<hr />

<div class="preview-container">
  <ng-container *ngIf="audioEvents.length > 0; else noResultsTemplate">
    <div class="spectrogram-grid placeholder-wave">
      @for (audioEvent of audioEvents; track $index) {
      <oe-spectrogram
        class="placeholder"
        [src]="buildAudioUrl(audioEvent)"
        window-size="1024"
        scaling="stretch"
      ></oe-spectrogram>
      }
    </div>
  </ng-container>

  <ng-template #noResultsTemplate>
    <h2>No {{ model.onlyUnverified ? "unverified" : "" }} annotations found</h2>
  </ng-template>
</div>
