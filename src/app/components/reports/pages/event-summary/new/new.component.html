<h1 class="text-muted">{{ componentTitle }}</h1>
<h1 class="mb-5">New Event Summary Report</h1>

<baw-audio-recordings-filter [constructedModel]="model.dateTime">
</baw-audio-recordings-filter>

<!-- Only projects should show a region filter -->
<baw-typeahead-input
  *ngIf="!region"
  label="Site(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="regionsOptions"
  [multipleInputs]="true"
  [formatter]="regionFormatter"
  [modelChange]="model.regions"
></baw-typeahead-input>

<baw-typeahead-input
  *ngIf="!site"
  label="Point(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="siteOptions"
  [multipleInputs]="true"
  [formatter]="siteFormatter"
  [modelChange]="model.sites"
></baw-typeahead-input>

<baw-typeahead-input
  label="Recogniser(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="provenanceOptions"
  [multipleInputs]="true"
  [formatter]="provenanceFormatter"
  [modelChange]="model.provenances"
></baw-typeahead-input>

<label for="provenancesCutOffInput" class="form-label">
  Recogniser Cut-Off
</label>
<input
  [(ngModel)]="model.provenanceScoreCutOff"
  type="number"
  name="provenancesCutOffInput"
  class="form-control"
  placeholder="All"
  value="0.8"
  step="0.05"
  max="1"
  min="0"
/>
<label
  *ngIf="!isValidProvenanceCutOff()"
  for="provenancesCutOffInput"
  class="form-error"
>
  The recogniser cut-off are outside the permitted boundary. Ensure that the
  value is between 0 and 1.
</label>

<label for="binSizeInput">Bin Size</label>
<select name="binSizeInput" class="form-select" [(ngModel)]="model.binSize">
  <option value="day">Day</option>
  <option value="week">Week</option>
  <option value="fortnight">Fortnight</option>
  <option value="month">Month</option>
  <option value="seasonally">Seasonally</option>
  <option value="year">Year</option>
</select>

<baw-typeahead-input
  label="Chart(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="chartsFilter"
  [multipleInputs]="true"
  [modelChange]="model.charts"
></baw-typeahead-input>

<baw-typeahead-input
  label="Events of Interest"
  [inputPlaceholder]="'All'"
  [optionsCallback]="eventsOfInterestOptions"
  [multipleInputs]="true"
  [formatter]="eventsOfInterestFormatter"
  [modelChange]="model.eventsOfInterest"
></baw-typeahead-input>

<button
  id="generateReportButton"
  type="submit"
  class="btn btn-primary my-3"
  (click)="generateReport()"
>
  Generate
</button>
