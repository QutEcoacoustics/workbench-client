<h1 class="text-muted">{{ viewTitle }}</h1>
<h1 class="mb-5">Acoustic Event Summary Report Generator</h1>

<baw-audio-recordings-filter [constructedFilters]="filters$" [constructedModel]="dateTimeConditions$">
</baw-audio-recordings-filter>

<!-- Only projects should show a region filter -->
<baw-typeahead-input
  *ngIf="!region"
  label="Site(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="regionsServiceListFilter"
  [multipleInputs]="true"
  [formatter]="regionFormatter"
  [modelChange]="(model.regions)"
></baw-typeahead-input>

<baw-typeahead-input
  *ngIf="!site"
  label="Point(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="sitesServiceListFilter"
  [multipleInputs]="true"
  [formatter]="siteFormatter"
  [modelChange]="(model.sites)"
></baw-typeahead-input>

<baw-typeahead-input
  label="Recogniser(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="provenanceServiceListFilter"
  [multipleInputs]="true"
  [formatter]="provenanceFormatter"
  [modelChange]="(model.provenances)"
></baw-typeahead-input>

<label for="provenancesCutOffInput" class="form-label">Recogniser Cut-Off</label>
<input
  [(ngModel)]="model.recognizerCutOff"
  type="number"
  name="provenancesCutOffInput"
  class="form-control"
  placeholder="All"
  value="0.8"
  step="0.05"
  max="1"
  min="0"
/>

<baw-typeahead-input
  label="Chart(s)"
  [inputPlaceholder]="'All'"
  [optionsCallback]="chartsFilter"
  [multipleInputs]="true"
  [formatter]="chartsFormatter"
  [modelChange]="(model.charts)"
></baw-typeahead-input>

<baw-typeahead-input
  label="Events of Interest"
  [inputPlaceholder]="'All'"
  [optionsCallback]="eventsOfInterestFilter"
  [multipleInputs]="true"
  [formatter]="eventsOfInterestFormatter"
  [modelChange]="(model.eventsOfInterest)"
></baw-typeahead-input>

<button
  id="generateReportButton"
  type="submit"
  class="btn btn-primary my-3"
  (click)="generateReport()"
>
  Generate
</button>
